<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Where is the train? Choo choo | mlog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Where is the train? Choo choo" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In Q4 2018, we ran a 4-week project to extract 2 years’ worth of train trip data to to develop a machine learning model that predicts ETA of a train. We have used data from 2016 and 2017 to train our machine learning models. To emulate how the models would be implemented, we applied the models to predict events in 2018." />
<meta property="og:description" content="In Q4 2018, we ran a 4-week project to extract 2 years’ worth of train trip data to to develop a machine learning model that predicts ETA of a train. We have used data from 2016 and 2017 to train our machine learning models. To emulate how the models would be implemented, we applied the models to predict events in 2018." />
<link rel="canonical" href="http://localhost:4000/2019/02/08/predicting-train-delays.html" />
<meta property="og:url" content="http://localhost:4000/2019/02/08/predicting-train-delays.html" />
<meta property="og:site_name" content="mlog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-08T09:08:00+13:00" />
<script type="application/ld+json">
{"description":"In Q4 2018, we ran a 4-week project to extract 2 years’ worth of train trip data to to develop a machine learning model that predicts ETA of a train. We have used data from 2016 and 2017 to train our machine learning models. To emulate how the models would be implemented, we applied the models to predict events in 2018.","@type":"BlogPosting","url":"http://localhost:4000/2019/02/08/predicting-train-delays.html","headline":"Where is the train? Choo choo","dateModified":"2019-02-08T09:08:00+13:00","datePublished":"2019-02-08T09:08:00+13:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/02/08/predicting-train-delays.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="mlog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">mlog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Where is the train? Choo choo</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-02-08T09:08:00+13:00" itemprop="datePublished">Feb 8, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>In Q4 2018, we ran a 4-week project to extract 2 years’ worth of train trip data to to develop a machine learning model that predicts ETA of a train. We have used data from 2016 and 2017 to train our machine learning models. To emulate how the models would be implemented, we applied the models to predict events in 2018.</p>

<p>In the proof of concept, we used data from 4 DB Cargo’s customers, namely British Steel, Mendip Rail, Tarmac and Puma Energy. We cleansed and aggregated 30,000 train trips from the ECOS system using our bespoke pre-processing methods. We calculated measures about the trips such as delays in the first two stations, busyness of the next stations and distance to final destinations. Overall, we processed 40 of these measures for every trip, which equate to a total of more than 1.2 million data points. Day of week is one of the 40 measures included in the machine learning model. The plot below shows delays distributed across Monday to Sunday. In this case Sunday clearly has the least proportion of early/late arrivals.
<img src="/assets/delays_vs_days_of_week.png" alt="delay vs. days of week" /></p>

<p>All trips were also tagged with the early arrival or delay in minutes. The goal of machine learning algorithms is to find the correlations of the 40 measures with the delay or early arrival. To achieve this, the processed data was fed into multiple machine learning algorithms and the one with the best performance was selected.</p>

<p>The purpose of the machine learning model is to guide human decision-making in taking follow-up actions. An example of follow-up actions for this model may include; deploying workers later or earlier based on predicted arrival time, but also more effective use of physical rail resource, planning and scheduling. 
We have provided a demonstration of the performance of the model for DB Cargo on an interactive <a href="https://jadeai.shinyapps.io/traindelays/">visualisation platform</a> (email me for access).</p>

<h3 id="next-steps">Next steps</h3>

<p>Aspects of the research project have immediately led to investigations to integrate train ETA into the DB Cargo Customer Portal based on the ML model. This includes expanding the machine learning model to incorporate all of DB Cargo’s current customers. Incorporating additional data. For example, weather data and passenger-train data is also expected to lift the performance to give more accurate predictions.</p>

  </div><a class="u-url" href="/2019/02/08/predicting-train-delays.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">mlog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">mlog</li><li><a class="u-email" href="mailto:snik@jadeworld.com">snik@jadeworld.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Sharing what is happening with machine learning at Jade, with mostly pictures and words, one algorithm at a time.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
